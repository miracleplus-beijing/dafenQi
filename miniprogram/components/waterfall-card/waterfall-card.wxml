<!-- 瀑布流卡片组件 - Frosted Paper Theme -->
<view class="waterfall-card {{isSelected ? 'selected' : ''}} {{isPlaying ? 'playing' : ''}}"
      bindtap="handleCardTap">

  <!-- 播客封面 -->
  <view class="card-cover-wrapper">
    <image src="{{podcast.cover_url}}"
           class="cover-image"
           mode="aspectFill"
           lazy-load="{{true}}"
           bindload="handleImageLoad"
           binderror="handleImageError" />

    <!-- 正在播放态遮罩 (蓝色毛玻璃 + 波形动画) -->
    <view wx:if="{{isPlaying}}" class="playing-overlay">
      <view class="play-pulse-icon">
        <view class="pulse-bar"></view>
        <view class="pulse-bar"></view>
        <view class="pulse-bar"></view>
      </view>
    </view>

    <!-- 时长显示 -->
    <view wx:if="{{podcast.duration}}" class="duration-badge">
      <text>{{formattedDuration}}</text>
    </view>

    <!-- 播放按钮悬浮层 (非播放态显示) -->
    <view wx:if="{{!isPlaying}}" class="play-btn-overlay" catchtap="handlePlayTap">
      <view class="play-btn-circle">
        <t-icon name="play" size="40rpx" color="#0884ff" />
      </view>
    </view>
  </view>

  <!-- 卡片信息 -->
  <view class="card-body">
    <!-- 标题 -->
    <text class="card-title">{{podcast.title}}</text>

    <!-- 底部操作栏 -->
    <view class="card-footer">
      <!-- 左侧：频道标签 -->
      <view class="channel-tag">
        <text class="tag-text">{{podcast.channel_name || '奇绩信号'}}</text>
      </view>

      <!-- 右侧：收藏按钮 -->
      <view class="action-btn {{podcast.isFavorited ? 'favorited' : ''}}"
            catchtap="handleFavoriteTap">
        <t-icon name="{{podcast.isFavorited ? 'heart-filled' : 'heart'}}"
                size="32rpx"
                color="{{podcast.isFavorited ? '#ef4444' : '#9ca3af'}}" />
      </view>
    </view>
  </view>
</view>